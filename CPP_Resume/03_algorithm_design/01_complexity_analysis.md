# 3.1 å¤æ‚åº¦åˆ†æ

## ğŸ“– æœ¬èŠ‚æ¦‚è¿°

å¤æ‚åº¦åˆ†ææ˜¯è¯„ä¼°ç®—æ³•æ•ˆç‡çš„åŸºç¡€å·¥å…·ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬åœ¨ä¸å®é™…è¿è¡Œä»£ç çš„æƒ…å†µä¸‹ï¼Œé¢„æµ‹ç®—æ³•çš„æ€§èƒ½è¡¨ç°ã€‚æŒæ¡å¤æ‚åº¦åˆ†ææ˜¯æˆä¸ºä¼˜ç§€ç¨‹åºå‘˜çš„å¿…å¤‡æŠ€èƒ½ã€‚

---

## 1. ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æ

### 1.1 é—®é¢˜å¼•å…¥

```cpp
// ä¸¤ç§æ–¹æ³•è®¡ç®— 1 + 2 + ... + n

// æ–¹æ³•1ï¼šå¾ªç¯æ±‚å’Œ
int sum_loop(int n) {
    int sum = 0;
    for (int i = 1; i <= n; ++i) {
        sum += i;
    }
    return sum;
}

// æ–¹æ³•2ï¼šæ•°å­¦å…¬å¼
int sum_formula(int n) {
    return n * (n + 1) / 2;
}
```

å½“ n = 1,000,000 æ—¶ï¼š
- æ–¹æ³•1 æ‰§è¡Œçº¦ 1,000,000 æ¬¡åŠ æ³•
- æ–¹æ³•2 åªæ‰§è¡Œ 3 æ¬¡è¿ç®—

**å¤æ‚åº¦åˆ†æå¸®åŠ©æˆ‘ä»¬é‡åŒ–è¿™ç§å·®å¼‚ã€‚**

### 1.2 å¤æ‚åº¦çš„æ„ä¹‰

| åœºæ™¯ | è¯´æ˜ |
|------|------|
| é€‰æ‹©ç®—æ³• | åœ¨å¤šç§ç®—æ³•ä¸­é€‰æ‹©æœ€ä¼˜ |
| é¢„æµ‹æ€§èƒ½ | ä¼°ç®—ç¨‹åºåœ¨å¤§æ•°æ®é‡ä¸‹çš„è¡¨ç° |
| å‘ç°ç“¶é¢ˆ | æ‰¾å‡ºä»£ç ä¸­æ•ˆç‡ä½ä¸‹çš„éƒ¨åˆ† |
| é¢è¯•å¿…è€ƒ | å‡ ä¹æ‰€æœ‰æŠ€æœ¯é¢è¯•éƒ½ä¼šè€ƒå¯Ÿ |

---

## 2. æ—¶é—´å¤æ‚åº¦

### 2.1 å¤§ O è¡¨ç¤ºæ³•

å¤§ O è¡¨ç¤ºæ³•æè¿°ç®—æ³•è¿è¡Œæ—¶é—´çš„**å¢é•¿è¶‹åŠ¿**ï¼Œå¿½ç•¥å¸¸æ•°å› å­å’Œä½é˜¶é¡¹ã€‚

```
T(n) = 3nÂ² + 5n + 100
     â‰ˆ O(nÂ²)  // åªä¿ç•™æœ€é«˜é˜¶é¡¹ï¼Œå¿½ç•¥ç³»æ•°
```

**è§„åˆ™**ï¼š
1. å¿½ç•¥å¸¸æ•°ï¼šO(2n) = O(n)
2. å¿½ç•¥ä½é˜¶é¡¹ï¼šO(nÂ² + n) = O(nÂ²)
3. å–æœ€åæƒ…å†µï¼ˆé€šå¸¸ï¼‰

### 2.2 å¸¸è§æ—¶é—´å¤æ‚åº¦

| å¤æ‚åº¦ | åç§° | å¢é•¿é€Ÿåº¦ | ç¤ºä¾‹æ“ä½œ |
|--------|------|----------|----------|
| O(1) | å¸¸æ•° | æœ€å¿« | æ•°ç»„è®¿é—®ã€å“ˆå¸Œè¡¨æŸ¥æ‰¾ |
| O(log n) | å¯¹æ•° | å¾ˆå¿« | äºŒåˆ†æŸ¥æ‰¾ |
| O(n) | çº¿æ€§ | ä¸€èˆ¬ | éå†æ•°ç»„ |
| O(n log n) | çº¿æ€§å¯¹æ•° | è¾ƒæ…¢ | å¿«é€Ÿæ’åºã€å½’å¹¶æ’åº |
| O(nÂ²) | å¹³æ–¹ | æ…¢ | å†’æ³¡æ’åºã€åŒé‡å¾ªç¯ |
| O(nÂ³) | ç«‹æ–¹ | å¾ˆæ…¢ | ä¸‰é‡å¾ªç¯ |
| O(2â¿) | æŒ‡æ•° | ææ…¢ | ç©·ä¸¾æ‰€æœ‰å­é›† |
| O(n!) | é˜¶ä¹˜ | æœ€æ…¢ | ç©·ä¸¾æ‰€æœ‰æ’åˆ— |

### 2.3 å¤æ‚åº¦å¢é•¿å¯¹æ¯”

å‡è®¾æ¯ç§’å¯æ‰§è¡Œ 10â¸ æ¬¡æ“ä½œï¼š

| n | O(log n) | O(n) | O(n log n) | O(nÂ²) | O(2â¿) |
|---|----------|------|------------|-------|-------|
| 10 | 3.3 | 10 | 33 | 100 | 1024 |
| 100 | 6.6 | 100 | 664 | 10000 | 10Â³â° |
| 1000 | 10 | 1000 | 10000 | 10â¶ | 10Â³â°â° |
| 10â¶ | 20 | 10â¶ | 2Ã—10â· | 10Â¹Â² | âˆ |

---

## 3. åˆ†ææ–¹æ³•

### 3.1 O(1) - å¸¸æ•°æ—¶é—´

```cpp
// æ— è®º n å¤šå¤§ï¼Œæ‰§è¡Œæ—¶é—´å›ºå®š
int get_first(const std::vector<int>& v) {
    return v[0];  // O(1)
}

int sum = a + b;  // O(1)

std::unordered_map<int, int> m;
int val = m[key];  // O(1) å¹³å‡
```

### 3.2 O(n) - çº¿æ€§æ—¶é—´

```cpp
// æ‰§è¡Œæ¬¡æ•°ä¸ n æˆæ­£æ¯”
int sum(const std::vector<int>& v) {
    int s = 0;
    for (int x : v) {  // æ‰§è¡Œ n æ¬¡
        s += x;
    }
    return s;
}

// å³ä½¿æœ‰å¤šä¸ªå¾ªç¯ï¼Œåªè¦ä¸åµŒå¥—
void process(int n) {
    for (int i = 0; i < n; ++i) { }  // n æ¬¡
    for (int j = 0; j < n; ++j) { }  // n æ¬¡
    // æ€»è®¡ 2n æ¬¡ = O(n)
}
```

### 3.3 O(nÂ²) - å¹³æ–¹æ—¶é—´

```cpp
// åµŒå¥—å¾ªç¯
void bubble_sort(std::vector<int>& v) {
    int n = v.size();
    for (int i = 0; i < n; ++i) {           // n æ¬¡
        for (int j = 0; j < n - i - 1; ++j) { // çº¦ n æ¬¡
            if (v[j] > v[j + 1]) {
                std::swap(v[j], v[j + 1]);
            }
        }
    }
    // æ€»è®¡çº¦ nÂ² / 2 æ¬¡ = O(nÂ²)
}

// ä¸¤ä¸¤é…å¯¹
void print_pairs(int n) {
    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < n; ++j) {
            std::cout << i << ", " << j << std::endl;
        }
    }
    // O(nÂ²)
}
```

### 3.4 O(log n) - å¯¹æ•°æ—¶é—´

```cpp
// æ¯æ¬¡é—®é¢˜è§„æ¨¡å‡åŠ
int binary_search(const std::vector<int>& v, int target) {
    int left = 0, right = v.size() - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (v[mid] == target) return mid;
        if (v[mid] < target) left = mid + 1;
        else right = mid - 1;
    }
    return -1;
    // æ¯æ¬¡å¾ªç¯ right - left å‡åŠ
    // æœ€å¤šæ‰§è¡Œ logâ‚‚(n) æ¬¡
}

// é™¤ä»¥ 2 çš„å¾ªç¯
int count_halves(int n) {
    int count = 0;
    while (n > 1) {
        n /= 2;
        count++;
    }
    return count;  // O(log n)
}
```

### 3.5 O(n log n) - çº¿æ€§å¯¹æ•°æ—¶é—´

```cpp
// å…¸å‹ï¼šé«˜æ•ˆæ’åºç®—æ³•
void merge_sort(std::vector<int>& v, int l, int r) {
    if (l >= r) return;
    int mid = (l + r) / 2;
    merge_sort(v, l, mid);      // T(n/2)
    merge_sort(v, mid + 1, r);  // T(n/2)
    merge(v, l, mid, r);        // O(n)
}
// T(n) = 2T(n/2) + O(n) = O(n log n)

// å¤–å±‚ log nï¼Œå†…å±‚ n
void process(int n) {
    for (int i = 1; i < n; i *= 2) {    // log n æ¬¡
        for (int j = 0; j < n; ++j) {   // n æ¬¡
            // ...
        }
    }
    // O(n log n)
}
```

### 3.6 O(2â¿) - æŒ‡æ•°æ—¶é—´

```cpp
// é€’å½’è®¡ç®—æ–æ³¢é‚£å¥‘ï¼ˆä½æ•ˆï¼‰
int fib_bad(int n) {
    if (n <= 1) return n;
    return fib_bad(n - 1) + fib_bad(n - 2);
    // æ¯æ¬¡åˆ†è£‚æˆä¸¤ä¸ªå­é—®é¢˜
    // O(2â¿)
}

// ç”Ÿæˆæ‰€æœ‰å­é›†
void generate_subsets(int n) {
    for (int mask = 0; mask < (1 << n); ++mask) {
        // å¤„ç† mask è¡¨ç¤ºçš„å­é›†
    }
    // å…± 2â¿ ä¸ªå­é›†
}
```

---

## 4. ç©ºé—´å¤æ‚åº¦

### 4.1 å®šä¹‰

ç©ºé—´å¤æ‚åº¦è¡¡é‡ç®—æ³•æ‰€éœ€çš„**é¢å¤–å†…å­˜**éšè¾“å…¥è§„æ¨¡çš„å¢é•¿è¶‹åŠ¿ã€‚

```cpp
// O(1) ç©ºé—´ï¼šåªç”¨å›ºå®šæ•°é‡çš„å˜é‡
int sum(const std::vector<int>& v) {
    int s = 0;  // åªç”¨ä¸€ä¸ªå˜é‡
    for (int x : v) s += x;
    return s;
}

// O(n) ç©ºé—´ï¼šéœ€è¦ä¸è¾“å…¥æˆæ¯”ä¾‹çš„é¢å¤–ç©ºé—´
std::vector<int> copy_array(const std::vector<int>& v) {
    std::vector<int> result = v;  // å¤åˆ¶æ•´ä¸ªæ•°ç»„
    return result;
}

// O(nÂ²) ç©ºé—´ï¼šäºŒç»´æ•°ç»„
std::vector<std::vector<int>> create_matrix(int n) {
    return std::vector<std::vector<int>>(n, std::vector<int>(n));
}
```

### 4.2 é€’å½’çš„ç©ºé—´å¤æ‚åº¦

é€’å½’è°ƒç”¨ä¼šä½¿ç”¨**è°ƒç”¨æ ˆ**ç©ºé—´ï¼š

```cpp
// é€’å½’æ·±åº¦ nï¼Œç©ºé—´ O(n)
int factorial(int n) {
    if (n <= 1) return 1;
    return n * factorial(n - 1);
}

// é€’å½’æ·±åº¦ log nï¼Œç©ºé—´ O(log n)
int binary_search_recursive(const std::vector<int>& v, int target, 
                            int left, int right) {
    if (left > right) return -1;
    int mid = (left + right) / 2;
    if (v[mid] == target) return mid;
    if (v[mid] < target) 
        return binary_search_recursive(v, target, mid + 1, right);
    return binary_search_recursive(v, target, left, mid - 1);
}
```

### 4.3 æ—¶é—´ vs ç©ºé—´æƒè¡¡

```cpp
// æ–¹æ³•1ï¼šO(nÂ²) æ—¶é—´ï¼ŒO(1) ç©ºé—´
bool has_duplicate_v1(const std::vector<int>& v) {
    for (size_t i = 0; i < v.size(); ++i) {
        for (size_t j = i + 1; j < v.size(); ++j) {
            if (v[i] == v[j]) return true;
        }
    }
    return false;
}

// æ–¹æ³•2ï¼šO(n) æ—¶é—´ï¼ŒO(n) ç©ºé—´
bool has_duplicate_v2(const std::vector<int>& v) {
    std::unordered_set<int> seen;
    for (int x : v) {
        if (seen.count(x)) return true;
        seen.insert(x);
    }
    return false;
}
```

---

## 5. æœ€å¥½/æœ€å/å¹³å‡æƒ…å†µ

### 5.1 ä¸‰ç§æƒ…å†µ

```cpp
// çº¿æ€§æŸ¥æ‰¾
int linear_search(const std::vector<int>& v, int target) {
    for (size_t i = 0; i < v.size(); ++i) {
        if (v[i] == target) return i;
    }
    return -1;
}

// æœ€å¥½æƒ…å†µï¼šO(1) â€”â€” target åœ¨ç¬¬ä¸€ä¸ªä½ç½®
// æœ€åæƒ…å†µï¼šO(n) â€”â€” target ä¸å­˜åœ¨æˆ–åœ¨æœ€å
// å¹³å‡æƒ…å†µï¼šO(n) â€”â€” å¹³å‡éœ€è¦æ£€æŸ¥ä¸€åŠå…ƒç´ 
```

### 5.2 å¿«é€Ÿæ’åºçš„å¤æ‚åº¦

```cpp
void quick_sort(std::vector<int>& v, int lo, int hi) {
    if (lo >= hi) return;
    int pivot = partition(v, lo, hi);
    quick_sort(v, lo, pivot - 1);
    quick_sort(v, pivot + 1, hi);
}

// æœ€å¥½æƒ…å†µï¼šO(n log n) â€”â€” æ¯æ¬¡å‡åŒ€åˆ†å‰²
// æœ€åæƒ…å†µï¼šO(nÂ²) â€”â€” å·²æ’åºæ•°ç»„ï¼Œæ¯æ¬¡æç«¯åˆ†å‰²
// å¹³å‡æƒ…å†µï¼šO(n log n)
```

### 5.3 é€šå¸¸ä½¿ç”¨æœ€åæƒ…å†µ

é™¤éç‰¹åˆ«è¯´æ˜ï¼Œå¤æ‚åº¦åˆ†æé€šå¸¸æŒ‡**æœ€åæƒ…å†µ**ï¼Œå› ä¸ºå®ƒç»™å‡ºäº†æ€§èƒ½çš„ä¸Šç•Œä¿è¯ã€‚

---

## 6. å‡æ‘Šå¤æ‚åº¦

### 6.1 åŠ¨æ€æ•°ç»„æ‰©å®¹

```cpp
// std::vector çš„ push_back
// å•æ¬¡ï¼šO(1) æˆ– O(n)ï¼ˆæ‰©å®¹æ—¶ï¼‰
// å‡æ‘Šï¼šO(1)

std::vector<int> v;
for (int i = 0; i < n; ++i) {
    v.push_back(i);  // å‡æ‘Š O(1)
}
// æ€»è®¡ O(n)ï¼Œæ¯æ¬¡å‡æ‘Š O(1)
```

æ‰©å®¹ç­–ç•¥ï¼ˆé€šå¸¸ç¿»å€ï¼‰ï¼š
- 1 â†’ 2 â†’ 4 â†’ 8 â†’ 16 â†’ ...
- n æ¬¡æ’å…¥çš„æ€»å¤åˆ¶æ¬¡æ•°ï¼š1 + 2 + 4 + ... + n â‰ˆ 2n
- æ¯æ¬¡å‡æ‘Šï¼šO(1)

### 6.2 å‡æ‘Šåˆ†ææ–¹æ³•

å…³æ³¨**ä¸€ç³»åˆ—æ“ä½œçš„æ€»ä»£ä»·**ï¼Œè€Œéå•æ¬¡æ“ä½œçš„æœ€åæƒ…å†µã€‚

---

## 7. é€’å½’å¤æ‚åº¦åˆ†æ

### 7.1 é€’å½’æ ‘æ–¹æ³•

```cpp
// äºŒåˆ†é€’å½’
T(n) = 2T(n/2) + O(n)

/*
         n          â†’ O(n)
       /   \
     n/2   n/2      â†’ O(n)
     / \   / \
   n/4 n/4 ...      â†’ O(n)
   ...
   
å…± log n å±‚ï¼Œæ¯å±‚ O(n)
æ€»è®¡ O(n log n)
*/
```

### 7.2 ä¸»å®šç†

å¯¹äºå½¢å¦‚ `T(n) = aT(n/b) + O(náµˆ)` çš„é€’å½’ï¼š

| æ¡ä»¶ | å¤æ‚åº¦ |
|------|--------|
| d > log_b(a) | O(náµˆ) |
| d = log_b(a) | O(náµˆ log n) |
| d < log_b(a) | O(n^(log_b(a))) |

**ç¤ºä¾‹**ï¼š
- å½’å¹¶æ’åºï¼šT(n) = 2T(n/2) + O(n)
  - a=2, b=2, d=1, logâ‚‚(2)=1=d â†’ O(n log n)
- äºŒåˆ†æŸ¥æ‰¾ï¼šT(n) = T(n/2) + O(1)
  - a=1, b=2, d=0, logâ‚‚(1)=0=d â†’ O(log n)

---

## 8. å¸¸è§æ“ä½œå¤æ‚åº¦

### 8.1 æ•°æ®ç»“æ„æ“ä½œ

| æ•°æ®ç»“æ„ | è®¿é—® | æŸ¥æ‰¾ | æ’å…¥ | åˆ é™¤ |
|----------|------|------|------|------|
| æ•°ç»„ | O(1) | O(n) | O(n) | O(n) |
| é“¾è¡¨ | O(n) | O(n) | O(1)* | O(1)* |
| å“ˆå¸Œè¡¨ | O(1) | O(1) | O(1) | O(1) |
| äºŒå‰æœç´¢æ ‘ | O(log n) | O(log n) | O(log n) | O(log n) |
| å † | O(1) é¡¶ | O(n) | O(log n) | O(log n) |

*éœ€è¦å·²çŸ¥ä½ç½®

### 8.2 æ’åºç®—æ³•

| ç®—æ³• | æœ€å¥½ | å¹³å‡ | æœ€å | ç©ºé—´ | ç¨³å®š |
|------|------|------|------|------|------|
| å†’æ³¡æ’åº | O(n) | O(nÂ²) | O(nÂ²) | O(1) | âœ… |
| é€‰æ‹©æ’åº | O(nÂ²) | O(nÂ²) | O(nÂ²) | O(1) | âŒ |
| æ’å…¥æ’åº | O(n) | O(nÂ²) | O(nÂ²) | O(1) | âœ… |
| å½’å¹¶æ’åº | O(n log n) | O(n log n) | O(n log n) | O(n) | âœ… |
| å¿«é€Ÿæ’åº | O(n log n) | O(n log n) | O(nÂ²) | O(log n) | âŒ |
| å †æ’åº | O(n log n) | O(n log n) | O(n log n) | O(1) | âŒ |

---

## 9. å¤æ‚åº¦åˆ†ææŠ€å·§

### 9.1 è¯†åˆ«å¾ªç¯æ¨¡å¼

```cpp
// å•å¾ªç¯ â†’ O(n)
for (int i = 0; i < n; ++i) { }

// åµŒå¥—å¾ªç¯ â†’ O(nÂ²)
for (int i = 0; i < n; ++i)
    for (int j = 0; j < n; ++j) { }

// å‡åŠå¾ªç¯ â†’ O(log n)
for (int i = n; i > 0; i /= 2) { }

// å¤–å‡åŠï¼Œå†…çº¿æ€§ â†’ O(n log n)
for (int i = 1; i < n; i *= 2)
    for (int j = 0; j < n; ++j) { }
```

### 9.2 æ³¨æ„éšè—çš„å¤æ‚åº¦

```cpp
// å­—ç¬¦ä¸²æ‹¼æ¥å¯èƒ½æ˜¯ O(n)
std::string s;
for (int i = 0; i < n; ++i) {
    s += "x";  // å¯èƒ½å¯¼è‡´ O(nÂ²) æ€»å¤æ‚åº¦
}

// ä½¿ç”¨ reserve ä¼˜åŒ–
std::string s2;
s2.reserve(n);
for (int i = 0; i < n; ++i) {
    s2 += "x";  // O(n) æ€»å¤æ‚åº¦
}
```

---

## ğŸ“ ç»ƒä¹ é¢˜

### ç»ƒä¹ 1ï¼šåˆ†æå¤æ‚åº¦
åˆ†æä»¥ä¸‹å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ï¼š

```cpp
void mystery(int n) {
    for (int i = 1; i <= n; i *= 2) {
        for (int j = 1; j <= i; ++j) {
            // O(1) æ“ä½œ
        }
    }
}
```

### ç»ƒä¹ 2ï¼šä¼˜åŒ–ç®—æ³•
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•°çš„å’Œä¸ºç‰¹å®šå€¼ã€‚åˆ†åˆ«ç”¨ O(nÂ²) å’Œ O(n) çš„æ–¹æ³•å®ç°ã€‚

### ç»ƒä¹ 3ï¼šé€’å½’åˆ†æ
åˆ†æä»¥ä¸‹é€’å½’çš„æ—¶é—´å¤æ‚åº¦ï¼š

```cpp
int f(int n) {
    if (n <= 1) return 1;
    return f(n - 1) + f(n - 1);
}
```

---

## ğŸ’¡ è¦ç‚¹æ€»ç»“

1. **å¤§ O è¡¨ç¤ºæ³•**ï¼šæè¿°å¢é•¿è¶‹åŠ¿ï¼Œå¿½ç•¥å¸¸æ•°å’Œä½é˜¶é¡¹
2. **å¸¸è§å¤æ‚åº¦æ’åº**ï¼šO(1) < O(log n) < O(n) < O(n log n) < O(nÂ²) < O(2â¿)
3. **æ—¶é—´ vs ç©ºé—´**ï¼šé€šå¸¸éœ€è¦æƒè¡¡
4. **æœ€åæƒ…å†µ**ï¼šé»˜è®¤åˆ†ææœ€åæƒ…å†µ
5. **å‡æ‘Šå¤æ‚åº¦**ï¼šä¸€ç³»åˆ—æ“ä½œçš„å¹³å‡ä»£ä»·
6. **å®è·µä¸ºä¸»**ï¼šå¤šåˆ†æä»£ç ï¼ŒåŸ¹å…»ç›´è§‰

---

## â­ï¸ ä¸‹ä¸€èŠ‚

[3.2 STLç®—æ³•åº“](./02_stl_algorithms.md) - å­¦ä¹ æ ‡å‡†åº“ä¸­çš„ç®—æ³•

